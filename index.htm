<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Digitales Arbeitsblatt</title>

    <!-- Bootstrap CSS -->
    <link href="lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link
      href="lib/bootstrap-icons/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    <!-- Highlight.js CSS -->
    <link rel="stylesheet" href="lib/highlight/styles/vs.min.css" />
    <!-- Custom CSS -->
    <link href="src/style.css" rel="stylesheet" />
  </head>
  <body id="worksheet">
    <div class="container">
      <header class="pb-3 mt-5 mb-5 border-bottom">
        <div class="row">
          <div class="col-md-6">
            <span class="fw-bold" id="subject-name">Digitales Arbeitsblatt</span
            ><br />
            <span id="course-name">Thema</span>
          </div>
          <div class="col-md-6 text-end">
            <span class="fw-bold" id="worksheet-number">Arbeitsblatt 1</span
            ><br />
            <span id="worksheet-links" class="d-flex justify-content-end">
              <a href="#" id="worksheet-link-back" class="me-2 hide-element">
                <i class="bi bi-arrow-left"></i> Vorheriges
              </a>
              <a href="#" id="worksheet-link-forward" class="hide-element">
                Nächstes <i class="bi bi-arrow-right"></i>
              </a>
            </span>
          </div>
        </div>
      </header>

      <main>
        <h1 class="text-body-emphasis mb-4" id="worksheet-title">
          Lade Arbeitsblatt...
        </h1>
        <div class="row mb-4">
          <div class="col-md-8 fs-5" id="worksheet-description">
            <p>Lade Arbeitsblatt...</p>
          </div>
          <div class="col-md-4 hide-element" id="worksheet-image-wrapper">
            <figure class="figure" id="worksheet-image"></figure>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 display-5 text-center">
            <i class="bi bi-chevron-compact-down text-muted"></i>
          </div>
        </div>
      </main>
    </div>

    <div class="container-fluid bg-light pt-1 pb-3">
      <div class="container hide-element" id="worksheet-code-container">
        <main>
          <!-- Code -->
          <div class="row mt-5" id="worksheet-code-wrapper">
            <!-- Code-Ausschnitt -->
            <div class="col-md-8">
              <h6>Code</h6>
              <div class="card mb-3" id="card-code">
                <div class="card-body card-body-code">
                  <div class="d-flex justify-content-end mb-2">
                    <div
                      class="btn-group btn-group-sm"
                      id="worksheet-code-language-buttons"
                    ></div>
                    <button
                      class="btn btn-sm btn-outline-secondary"
                      id="pin-code-button"
                      title="Code an der rechten Seite anheften"
                    >
                      <i class="bi bi-pin-fill"></i>
                    </button>
                  </div>

                  <pre id="worksheet-code">Lade Code...</pre>
                </div>
              </div>
              <p class="text-muted text-sm">
                Tipp: Sie können über den Button
                <i class="bi bi-code-square"></i> am linken Seitenrand jederzeit
                zurück zum Code springen. Mit dem Button
                <i class="bi bi-pencil-square"></i> gelangen Sie zurück zur
                zuletzt bearbeiteten Aufgabe. Alternativ können Sie auch den
                Code mit dem <i class="bi bi-pin-fill"></i>-Button am rechten
                Seitenrand anheften.
              </p>
            </div>

            <!-- Hilfestellungen -->
            <div class="col-md-4">
              <div class="hide-element" id="code-helpers-wrapper">
                <h6>Weitere Erklärungen</h6>
                <div
                  class="accordion accordion-code-helpers"
                  id="code-helpers"
                ></div>
              </div>

              <div id="code-tools-wrapper">
                <h6 class="mt-3">Tools</h6>
                <button
                  type="button"
                  class="btn btn-outline-primary mb-1"
                  id="copy-code-to-clipboard"
                >
                  <i class="bi bi-copy"></i> Code kopieren
                </button>
                <button
                  type="button"
                  class="btn btn-outline-primary mb-1"
                  id="export-code"
                >
                  <i class="bi bi-download"></i> Code herunterladen
                </button>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <div class="container">
      <!-- Tasks -->
      <main id="worksheet-tasks"></main>

      <!-- Footer -->
      <footer class="border-top mt-5 mb-5 pt-3">
        <button class="btn btn-secondary" id="export-data">
          <i class="bi bi-download"></i> Daten herunterladen
        </button>
        <button class="btn btn-light" id="print-worksheet">
          <i class="bi bi-printer"></i> Arbeitsblatt drucken oder als PDF
          speichern
        </button>
      </footer>
      <footer
        class="border-top mt-5 mb-5 pt-3 hide-element"
        id="worksheet-citations-wrapper"
      >
        <h6>Quellen</h6>
        <div id="worksheet-citations"></div>
      </footer>

      <!-- Sidebar buttons -->
      <div id="sidebar-buttons">
        <button
          type="button"
          class="btn btn-dark btn-sidebar"
          id="toggle-sidebar"
          data-bs-toggle="offcanvas"
          data-bs-target="#sidebar"
          aria-controls="sidebar"
          title="Übersicht der Arbeitsblätter öffnen"
        >
          <i class="bi bi-card-checklist"></i>
        </button>

        <a
          type="button"
          class="btn btn-secondary btn-sidebar"
          id="move-to-code"
          title="Zum Code springen"
          href="#worksheet-code-container"
        >
          <i class="bi bi-code-square"></i>
        </a>

        <a
          type="button"
          class="btn btn-secondary btn-sidebar hide-element"
          id="move-to-current-subtask"
          title="Zur zuletzt bearbeiteten Aufgabe springen"
          href="#"
        >
          <i class="bi bi-pencil-square"></i>
        </a>
      </div>

      <!-- Sidebar -->
      <div
        class="offcanvas offcanvas-start"
        tabindex="-1"
        id="sidebar"
        aria-labelledby="sidebarLabel"
      >
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="sidebar-label">
            Digitales Arbeitsblatt
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
          ></button>
        </div>
        <div class="offcanvas-body">
          <ol id="sidebar-content">
            <li>Bisher keine Arbeitsblätter hinterlegt.</li>
          </ol>
        </div>
      </div>
    </div>

    <!-- Settings and UI functions -->
    <script src="settings.js"></script>
    <script src="src/scripts.js"></script>

    <!-- Loading worksheets -->
    <script src="src/worksheet.js"></script>
    <!-- Add all worksheets you want to load here -->
    <script src="content/01_caesar.js"></script>
    <script src="content/02_vigenere.js"></script>

    <!-- Bootstrap JS -->
    <script src="lib/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- Highlight.js JS -->
    <script src="lib/highlight/highlight.min.js"></script>
    <script src="lib/highlight/highlightjs-line-numbers.min.js"></script>

    <script>
      loadWorksheets();
    </script>
  </body>
</html>
